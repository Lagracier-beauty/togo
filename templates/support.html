{% extends 'base.html' %}

{% block title %}Support & FAQ - Tog-Services{% endblock %}

{% block content %}
<!-- Support Hero -->
<section class="section" style="padding-top: var(--space-12); padding-bottom: var(--space-10);">
    <div class="container">
        <div style="max-width: 600px; margin: 0 auto; text-align: center;" class="scroll-animate">
            <h1 style="font-size: 2.5rem; font-weight: 700; margin-bottom: 1rem;">
                Centre d'aide
            </h1>
            <p class="text-muted" style="font-size: 1.125rem; margin-bottom: 2rem;">
                Trouvez rapidement des réponses à vos questions ou contactez notre équipe
            </p>
            
            <!-- Search -->
            <div style="max-width: 400px; margin: 0 auto;">
                <input 
                    type="search" 
                    class="form-input" 
                    placeholder="Rechercher dans la FAQ..."
                    style="margin-bottom: 0;"
                >
            </div>
        </div>
    </div>
</section>

<!-- Content -->
<section class="section" style="padding-top: 0;">
    <div class="container">
        <div style="display: grid; grid-template-columns: 1fr 400px; gap: 3rem; align-items: start;">
            
            <!-- FAQ Section -->
            <div class="scroll-animate">
                <h2 style="font-size: 1.5rem; font-weight: 600; margin-bottom: 1.5rem;">
                    Questions fréquentes
                </h2>
                
                <div style="display: flex; flex-direction: column; gap: 1rem;">
                    <!-- FAQ Item 1 -->
                    <div class="card" style="overflow: hidden;">
                        <details style="all: unset; display: block;">
                            <summary style="display: flex; align-items: center; justify-content: space-between; padding: 1rem 1.5rem; cursor: pointer; font-weight: 500; user-select: none;">
                                Comment m'inscrire sur Tog-Services ?
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="transition: transform 0.2s;">
                                    <polyline points="6,9 12,15 18,9"></polyline>
                                </svg>
                            </summary>
                            <div style="padding: 0 1.5rem 1.5rem; color: var(--muted-foreground);">
                                Cliquez sur "S'inscrire" en haut de la page et remplissez le formulaire avec vos informations. 
                                Vous recevrez un email de confirmation pour activer votre compte.
                            </div>
                        </details>
                    </div>
                    
                    <!-- FAQ Item 2 -->
                    <div class="card" style="overflow: hidden;">
                        <details style="all: unset; display: block;">
                            <summary style="display: flex; align-items: center; justify-content: space-between; padding: 1rem 1.5rem; cursor: pointer; font-weight: 500; user-select: none;">
                                Quels sont les moyens de paiement acceptés ?
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="transition: transform 0.2s;">
                                    <polyline points="6,9 12,15 18,9"></polyline>
                                </svg>
                            </summary>
                            <div style="padding: 0 1.5rem 1.5rem; color: var(--muted-foreground);">
                                Nous acceptons les paiements par Mobile Money (T-Money, Flooz) et les cartes bancaires 
                                (Visa, MasterCard). Tous les paiements sont sécurisés.
                            </div>
                        </details>
                    </div>
                    
                    <!-- FAQ Item 3 -->
                    <div class="card" style="overflow: hidden;">
                        <details style="all: unset; display: block;">
                            <summary style="display: flex; align-items: center; justify-content: space-between; padding: 1rem 1.5rem; cursor: pointer; font-weight: 500; user-select: none;">
                                Comment contacter le support client ?
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="transition: transform 0.2s;">
                                    <polyline points="6,9 12,15 18,9"></polyline>
                                </svg>
                            </summary>
                            <div style="padding: 0 1.5rem 1.5rem; color: var(--muted-foreground);">
                                Utilisez le formulaire de contact ci-contre, appelez le +228 XX XX XX XX ou 
                                envoyez un email à support@tog-services.tg
                            </div>
                        </details>
                    </div>
                    
                    <!-- FAQ Item 4 -->
                    <div class="card" style="overflow: hidden;">
                        <details style="all: unset; display: block;">
                            <summary style="display: flex; align-items: center; justify-content: space-between; padding: 1rem 1.5rem; cursor: pointer; font-weight: 500; user-select: none;">
                                Comment suivre ma commande ?
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="transition: transform 0.2s;">
                                    <polyline points="6,9 12,15 18,9"></polyline>
                                </svg>
                            </summary>
                            <div style="padding: 0 1.5rem 1.5rem; color: var(--muted-foreground);">
                                Connectez-vous à votre compte et accédez à la section "Mes commandes". 
                                Vous pouvez y voir le statut en temps réel et la position du prestataire.
                            </div>
                        </details>
                    </div>
                    
                    <!-- FAQ Item 5 -->
                    <div class="card" style="overflow: hidden;">
                        <details style="all: unset; display: block;">
                            <summary style="display: flex; align-items: center; justify-content: space-between; padding: 1rem 1.5rem; cursor: pointer; font-weight: 500; user-select: none;">
                                Que faire en cas de problème avec un service ?
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="transition: transform 0.2s;">
                                    <polyline points="6,9 12,15 18,9"></polyline>
                                </svg>
                            </summary>
                            <div style="padding: 0 1.5rem 1.5rem; color: var(--muted-foreground);">
                                Signalez le problème via votre tableau de bord ou contactez-nous immédiatement. 
                                Notre équipe intervient rapidement pour résoudre tous les litiges.
                            </div>
                        </details>
                    </div>
                </div>
            </div>
            
            <!-- Contact Form -->
            <div class="scroll-animate">
                <div class="card">
                    <h3 style="font-size: 1.25rem; font-weight: 600; margin-bottom: 1rem;">
                        Contactez-nous
                    </h3>
                    <p style="color: var(--muted-foreground); margin-bottom: 1.5rem; font-size: 0.875rem;">
                        Vous ne trouvez pas votre réponse ? Notre équipe est là pour vous aider.
                    </p>
                    
                    <form method="post" style="all: unset; display: block;">
                        {% csrf_token %}
                        
                        <div class="form-group">
                            <label for="name" class="form-label">
                                Nom complet
                            </label>
                            <input 
                                type="text" 
                                class="form-input" 
                                id="name" 
                                name="name" 
                                placeholder="Votre nom"
                                required
                            >
                        </div>
                        
                        <div class="form-group">
                            <label for="email" class="form-label">
                                Email
                            </label>
                            <input 
                                type="email" 
                                class="form-input" 
                                id="email" 
                                name="email" 
                                placeholder="email@exemple.com"
                                required
                            >
                        </div>
                        
                        <div class="form-group">
                            <label for="subject" class="form-label">
                                Sujet
                            </label>
                            <select class="form-input" id="subject" name="subject" required>
                                <option value="">Choisir un sujet</option>
                                <option value="question">Question générale</option>
                                <option value="technical">Problème technique</option>
                                <option value="billing">Facturation</option>
                                <option value="provider">Problème avec un prestataire</option>
                                <option value="other">Autre</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="message" class="form-label">
                                Message
                            </label>
                            <textarea 
                                class="form-input form-textarea" 
                                id="message" 
                                name="message" 
                                placeholder="Décrivez votre demande en détail..."
                                rows="4"
                                required
                            ></textarea>
                        </div>
                        
                        <button type="submit" class="btn btn-primary" style="width: 100%;">
                            Envoyer le message
                        </button>
                    </form>
                    
                    <!-- Contact Info -->
                    <div style="margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid var(--border);">
                        <h4 style="font-size: 1rem; font-weight: 600; margin-bottom: 1rem;">
                            Autres moyens de contact
                        </h4>
                        
                        <div style="display: flex; flex-direction: column; gap: 0.75rem;">
                            <div style="display: flex; align-items: center; gap: 0.75rem;">
                                <div style="width: 32px; height: 32px; background: var(--primary); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                        <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/>
                                    </svg>
                                </div>
                                <div>
                                    <div style="font-weight: 500; font-size: 0.875rem;">Téléphone</div>
                                    <div style="color: var(--muted-foreground); font-size: 0.8125rem;">+228 XX XX XX XX</div>
                                </div>
                            </div>
                            
                            <div style="display: flex; align-items: center; gap: 0.75rem;">
                                <div style="width: 32px; height: 32px; background: var(--secondary); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                                        <polyline points="22,6 12,13 2,6"/>
                                    </svg>
                                </div>
                                <div>
                                    <div style="font-weight: 500; font-size: 0.875rem;">Email</div>
                                    <div style="color: var(--muted-foreground); font-size: 0.8125rem;">support@tog-services.tg</div>
                                </div>
                            </div>
                            
                            <div style="display: flex; align-items: center; gap: 0.75rem;">
                                <div style="width: 32px; height: 32px; background: var(--success); border-radius: 50%; display: flex; align-items: center; justify-content: center; flex-shrink: 0;">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2">
                                        <circle cx="12" cy="12" r="10"/>
                                        <polyline points="12,6 12,12 16,14"/>
                                    </svg>
                                </div>
                                <div>
                                    <div style="font-weight: 500; font-size: 0.875rem;">Heures d'ouverture</div>
                                    <div style="color: var(--muted-foreground); font-size: 0.8125rem;">Lun-Ven: 8h-18h</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
// Enhanced FAQ functionality
document.addEventListener('DOMContentLoaded', function() {
    // Add rotation animation to FAQ arrows
    const summaries = document.querySelectorAll('details summary');
    
    summaries.forEach(summary => {
        const arrow = summary.querySelector('svg');
        const details = summary.parentElement;
        
        summary.addEventListener('click', function() {
            // Delay to allow details to toggle
            setTimeout(() => {
                if (details.open) {
                    arrow.style.transform = 'rotate(180deg)';
                } else {
                    arrow.style.transform = 'rotate(0deg)';
                }
            }, 1);
        });
    });
    
    // Search functionality
    const searchInput = document.querySelector('input[type="search"]');
    if (searchInput) {
        searchInput.addEventListener('input', function() {
            const query = this.value.toLowerCase();
            const faqItems = document.querySelectorAll('details');
            
            faqItems.forEach(item => {
                const text = item.textContent.toLowerCase();
                if (text.includes(query) || query === '') {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        });
    }
});
</script>
{% endblock %} 